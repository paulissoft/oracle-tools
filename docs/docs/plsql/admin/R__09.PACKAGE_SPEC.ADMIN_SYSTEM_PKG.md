<!-- DO NOT EDIT THIS FILE DIRECTLY - it is generated from source file db/app/admin/src/full/R__09.PACKAGE_SPEC.ADMIN_SYSTEM_PKG.sql -->
<!-- markdownlint-disable MD003 MD012 MD024 MD033 -->

- [Package "ADMIN_SYSTEM_PKG"](#package-admin_system_pkg)
- [Procedure kill_session](#procedure-kill_session)
- [Procedure disconnect_session](#procedure-disconnect_session)
- [Procedure cancel_sql](#procedure-cancel_sql)
- [Function show_locked_objects](#function-show_locked_objects)
- [Function does_session_exist](#function-does_session_exist)
- [Function does_session_exist](#function-does_session_exist-1)


# Package "ADMIN_SYSTEM_PKG"

This package contains various kill session and kill sql routines that will only be invoked for the session user in order to make it more safe to use.
The session user is the value of sys_context('USERENV', 'SESSION_USER').
See also [Killing Oracle Sessions (ALTER SYSTEM KILL / DISCONNECT SESSION)](https://oracle-base.com/articles/misc/killing-oracle-sessions).

SIGNATURE

```sql
PACKAGE "ADMIN_SYSTEM_PKG" AUTHID DEFINER AS
```


## Procedure kill_session

Invokes something like this but only for current user sessions:

```
ALTER SYSTEM KILL SESSION 'sid,serial#' [ IMMEDIATE ]
```

SIGNATURE

```sql
procedure kill_session
( p_sid in number -- filter on user sessions with sid equal to p_sid 
, p_serial# in number default null -- when not null the session serial# must also match p_serial#
, p_immediate in boolean default false -- return immediate or wait for the kill to complete
);
```


## Procedure disconnect_session

Invokes something like this but only for current user sessions:

```
ALTER SYSTEM DISCONNECT SESSION 'sid,serial#' [ IMMEDIATE | POST_TRANSACTION ]
```

SIGNATURE

```sql
procedure disconnect_session
( p_sid in number -- filter on user sessions with sid equal to p_sid 
, p_serial# in number default null -- when not null the session serial# must also match p_serial#
, p_immediate in boolean default false -- return immediate or wait for the kill to complete
);
```


## Procedure cancel_sql

Invokes something like this but only for current user sessions:

```
ALTER SYSTEM CANCEL SQL 'SID, SERIAL[, @INST_ID][, SQL_ID]'
```

SIGNATURE

```sql
procedure cancel_sql
( p_sid in number -- filter on user sessions with sid equal to p_sid 
, p_serial# in number default null -- when not null the session serial# must also match p_serial#
, p_sql_id in varchar2 -- the SQL id
);
```


## Function show_locked_objects

Show locked objects (select * from v$db_object_cache where locks > 0) for the current session user or for the owner of this package.

SIGNATURE

```sql
function show_locked_objects
return t_object_tab
pipelined;
```


## Function does_session_exist

Does this sesion exist?

SIGNATURE

```sql
function does_session_exist
( p_sid in number -- the session id
, p_serial# in number default null -- the serial number
)
return integer; -- 0 (false) or 1 (true)
```


## Function does_session_exist

Does this sesion exist?

SIGNATURE

```sql
function does_session_exist
( p_audsid in number -- the v$session.audsid value as returned by sys_context('USERENV', 'SESSIONID')
)
return integer; -- 0 (false) or 1 (true)
```


